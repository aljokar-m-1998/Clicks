<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© Ø§Ù„ØµØ±Ø§Ø¹ Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ù…Ø­Ø³Ù†</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e6e6e6;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 20px;
        }
        
        .game-area {
            background: rgba(30, 30, 46, 0.9);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 2px solid #4cc9f0;
        }
        
        .shop-area {
            background: rgba(30, 30, 46, 0.9);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 2px solid #f72585;
            overflow-y: auto;
            max-height: 90vh;
        }
        
        .stats-bar {
            display: flex;
            justify-content: space-between;
            background: rgba(20, 20, 35, 0.8);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 1px solid #4361ee;
        }
        
        .stat {
            text-align: center;
            flex: 1;
            margin: 0 10px;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #4cc9f0;
            text-shadow: 0 0 10px rgba(76, 201, 240, 0.5);
        }
        
        .monster-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-bottom: 25px;
            border: 3px solid #7209b7;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .monster-name {
            font-size: 28px;
            color: #f72585;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(247, 37, 133, 0.5);
        }
        
        .health-bar {
            width: 100%;
            height: 30px;
            background: rgba(255, 0, 0, 0.2);
            border-radius: 15px;
            margin: 15px 0;
            overflow: hidden;
            border: 2px solid #ff0000;
        }
        
        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff0000, #ff6b6b);
            border-radius: 15px;
            transition: width 0.3s ease;
        }
        
        .monster-health {
            font-size: 22px;
            margin: 10px 0;
            color: #ff6b6b;
        }
        
        .click-area {
            background: rgba(67, 97, 238, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 2px dashed #4361ee;
            transition: transform 0.1s;
            cursor: pointer;
            user-select: none;
        }
        
        .click-area:active {
            transform: scale(0.98);
        }
        
        .click-damage {
            font-size: 24px;
            color: #4cc9f0;
            margin-bottom: 10px;
        }
        
        .upgrade-section {
            margin-top: 25px;
            background: rgba(20, 20, 35, 0.6);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #7209b7;
        }
        
        .section-title {
            color: #f72585;
            border-bottom: 2px solid #f72585;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 22px;
        }
        
        .upgrade-btn {
            background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            width: 100%;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: right;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .upgrade-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4);
        }
        
        .upgrade-btn:disabled {
            background: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .cost {
            color: #4cc9f0;
            font-weight: bold;
        }
        
        .damage-display {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .damage-type {
            background: rgba(67, 97, 238, 0.1);
            padding: 15px;
            border-radius: 10px;
            flex: 1;
            min-width: 200px;
            text-align: center;
            border: 1px solid #4361ee;
        }
        
        .prestige-section {
            background: rgba(247, 37, 133, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 25px;
            border: 1px solid #f72585;
            text-align: center;
        }
        
        .prestige-btn {
            background: linear-gradient(135deg, #f72585 0%, #b5179e 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 15px;
            width: 100%;
        }
        
        .prestige-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(247, 37, 133, 0.4);
        }
        
        .jewel-display {
            display: inline-flex;
            align-items: center;
            background: rgba(255, 215, 0, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            border: 1px solid gold;
            margin-left: 10px;
        }
        
        .jewel-icon {
            color: gold;
            margin-left: 5px;
        }
        
        .monster-jewel-drop {
            position: absolute;
            animation: jewelFloat 1.5s ease-out forwards;
            font-size: 24px;
            z-index: 10;
        }
        
        @keyframes jewelFloat {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(0.5); opacity: 0; }
        }
        
        .achievement-popup {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #7209b7 0%, #3a0ca3 100%);
            padding: 15px 25px;
            border-radius: 10px;
            animation: slideIn 0.5s ease-out;
            z-index: 1000;
            border: 2px solid gold;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        
        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4cc9f0, #4361ee);
            border-radius: 5px;
            transition: width 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .stats-bar {
                flex-direction: column;
                gap: 10px;
            }
            
            .damage-display {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="game-area">
            <div class="stats-bar">
                <div class="stat">
                    <div>Ø§Ù„Ø°Ù‡Ø¨</div>
                    <div class="stat-value" id="gold">0</div>
                </div>
                <div class="stat">
                    <div>Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±</div>
                    <div class="stat-value">
                        <span id="jewels">0</span>
                        <span class="jewel-icon">ğŸ’</span>
                    </div>
                </div>
                <div class="stat">
                    <div>Ø§Ù„Ù‚ØªÙ„Ù‰</div>
                    <div class="stat-value" id="kills">0</div>
                </div>
                <div class="stat">
                    <div>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¨Ø·Ù„</div>
                    <div class="stat-value" id="playerLevel">1</div>
                </div>
            </div>
            
            <div class="monster-container" id="monsterContainer">
                <div class="monster-name" id="monsterName">ÙˆØ­Ø´ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø£ÙˆÙ„</div>
                <div class="health-bar">
                    <div class="health-fill" id="healthFill" style="width: 100%"></div>
                </div>
                <div class="monster-health" id="monsterHealth">100 / 100</div>
                <div>Ù…ÙƒØ§ÙØ£Ø©: <span id="monsterReward">10 Ø°Ù‡Ø¨ + 1 Ø¬ÙˆÙ‡Ø±Ø©</span></div>
            </div>
            
            <div class="click-area" id="clickArea">
                <div class="click-damage">Ø§Ø¶ØºØ· Ù„Ù„Ù‡Ø¬ÙˆÙ…! (<span id="clickDamage">10</span> Ø¶Ø±Ø±)</div>
                <div>Ø£Ùˆ Ø§Ù†ØªØ¸Ø± Ù‡Ø¬ÙˆÙ… Ø§Ù„Ø£Ø³Ù„Ø­Ø© ÙˆØ§Ù„Ø­Ù„ÙØ§Ø¡</div>
            </div>
            
            <div class="damage-display">
                <div class="damage-type">
                    <div>Ø¶Ø±Ø± Ø§Ù„Ø¶ØºØ·Ø©</div>
                    <div class="stat-value" id="totalClickDamage">10</div>
                </div>
                <div class="damage-type">
                    <div>Ø¶Ø±Ø± Ø§Ù„Ø£Ø³Ù„Ø­Ø©</div>
                    <div class="stat-value" id="totalWeaponDamage">0</div>
                </div>
                <div class="damage-type">
                    <div>Ø¶Ø±Ø± Ø§Ù„Ø­Ù„ÙØ§Ø¡</div>
                    <div class="stat-value" id="totalAllyDamage">0</div>
                </div>
                <div class="damage-type">
                    <div>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¶Ø±Ø±/Ø§Ù„Ø«Ø§Ù†ÙŠØ©</div>
                    <div class="stat-value" id="totalDPS">0</div>
                </div>
            </div>
            
            <div class="prestige-section">
                <h3>Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø·ÙˆÙ„Ø§Øª</h3>
                <p>Ø¹Ù†Ø¯ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù…Ø³ØªÙˆÙ‰ 50ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø¨Ø´ÙƒÙ„ Ø¯Ø§Ø¦Ù…!</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="prestigeProgress" style="width: 0%"></div>
                </div>
                <div>Ø§Ù„ØªÙ‚Ø¯Ù… Ù„Ù„Ù…Ø³ØªÙˆÙ‰ 50: <span id="currentLevel">1</span>/50</div>
                <button class="prestige-btn" id="prestigeBtn" disabled>Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ø¨Ø¹Ø¯</button>
            </div>
        </div>
        
        <div class="shop-area">
            <h2 class="section-title">ğŸª Ù…ØªØ¬Ø± Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª</h2>
            
            <div class="upgrade-section">
                <h3>âš”ï¸ ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ø¶ØºØ·Ø©</h3>
                <button class="upgrade-btn" onclick="buyUpgrade('click')">
                    <span>ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¶ØºØ·Ø© (+5 Ø¶Ø±Ø±)</span>
                    <span class="cost"><span id="clickCost">50</span> Ø°Ù‡Ø¨</span>
                </button>
                <button class="upgrade-btn" onclick="buyUpgrade('clickMultiplier')">
                    <span>Ù…Ø¶Ø§Ø¹Ù Ø§Ù„Ø¶ØºØ·Ø© (x2)</span>
                    <span class="cost"><span id="clickMultiplierCost">5</span> ğŸ’</span>
                </button>
            </div>
            
            <div class="upgrade-section">
                <h3>ğŸ”« ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ø£Ø³Ù„Ø­Ø©</h3>
                <button class="upgrade-btn" onclick="buyUpgrade('weapon')">
                    <span>Ø³Ù„Ø§Ø­ Ø£Ø³Ø§Ø³ÙŠ (2 Ø¶Ø±Ø±/Ø«Ø§Ù†ÙŠØ©)</span>
                    <span class="cost"><span id="weaponCost">100</span> Ø°Ù‡Ø¨</span>
                </button>
                <button class="upgrade-btn" onclick="buyUpgrade('weaponSpeed')">
                    <span>Ø³Ø±Ø¹Ø© Ø§Ù„Ø£Ø³Ù„Ø­Ø© (+50% Ø³Ø±Ø¹Ø©)</span>
                    <span class="cost"><span id="weaponSpeedCost">10</span> ğŸ’</span>
                </button>
            </div>
            
            <div class="upgrade-section">
                <h3>ğŸ‘¥ ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ø­Ù„ÙØ§Ø¡</h3>
                <button class="upgrade-btn" onclick="buyUpgrade('ally')">
                    <span>Ø­Ù„ÙŠÙ Ù…Ù‚Ø§ØªÙ„ (1 Ø¶Ø±Ø±/Ø«Ø§Ù†ÙŠØ©)</span>
                    <span class="cost"><span id="allyCost">500</span> Ø°Ù‡Ø¨</span>
                </button>
                <button class="upgrade-btn" onclick="buyUpgrade('allyMultiplier')">
                    <span>ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø­Ù„ÙØ§Ø¡ (+100% ÙØ¹Ø§Ù„ÙŠØ©)</span>
                    <span class="cost"><span id="allyMultiplierCost">15</span> ğŸ’</span>
                </button>
            </div>
            
            <div class="upgrade-section">
                <h3>ğŸ’ ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±</h3>
                <button class="upgrade-btn" onclick="buyUpgrade('jewelBoost')">
                    <span>Ø²ÙŠØ§Ø¯Ø© Ù‚Ø·Ø± Ø§Ù„Ø¬ÙˆØ§Ù‡Ø± (+1 Ø¬ÙˆÙ‡Ø±Ø©)</span>
                    <span class="cost"><span id="jewelBoostCost">25</span> ğŸ’</span>
                </button>
                <button class="upgrade-btn" onclick="buyUpgrade('goldFromJewels')">
                    <span>ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø± Ù„Ø°Ù‡Ø¨ (10 Ø°Ù‡Ø¨/Ø¬ÙˆÙ‡Ø±Ø©)</span>
                    <span class="cost"><span id="goldFromJewelsCost">1</span> ğŸ’</span>
                </button>
            </div>
            
            <div class="upgrade-section">
                <h3>ğŸŒŸ ØªØ±Ù‚ÙŠØ§Øª Ø®Ø§ØµØ©</h3>
                <button class="upgrade-btn" onclick="buyUpgrade('critical')">
                    <span>Ø¶Ø±Ø¨Ø© Ø­Ø±Ø¬Ø© (10% ÙØ±ØµØ© Ù„Ù„Ø¶Ø¹Ù)</span>
                    <span class="cost"><span id="criticalCost">20</span> ğŸ’</span>
                </button>
                <button class="upgrade-btn" onclick="buyUpgrade('bossHunter')">
                    <span>ØµØ§Ø¦Ø¯Ø© Ø§Ù„Ø²Ø¹Ù…Ø§Ø¡ (Ù…ÙƒØ§ÙØ¢Øª Ø£ÙØ¶Ù„)</span>
                    <span class="cost"><span id="bossHunterCost">50</span> ğŸ’</span>
                </button>
            </div>
            
            <div class="stats-panel">
                <h3>ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</h3>
                <div>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ù…ÙƒØªØ³Ø¨: <span id="totalGold">0</span></div>
                <div>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø± Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©: <span id="totalJewels">0</span></div>
                <div>Ø£Ø¹Ù„Ù‰ ÙˆØ­Ø´ Ù‡Ø²Ù…: Ø§Ù„Ù…Ø³ØªÙˆÙ‰ <span id="highestMonster">1</span></div>
                <div>Ù…Ø¶Ø§Ø¹Ù Ø§Ù„Ø¶Ø±Ø±: <span id="damageMultiplier">1</span>x</div>
                <div>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±: <span id="jewelRate">1</span> Ø¬ÙˆÙ‡Ø±Ø©/Ù‚ØªÙŠÙ„</div>
            </div>
        </div>
    </div>

    <script>
        // Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        const gameState = {
            gold: 0,
            jewels: 0,
            kills: 0,
            playerLevel: 1,
            totalGold: 0,
            totalJewels: 0,
            highestMonster: 1,
            
            // Ø§Ù„Ø¶Ø±Ø±
            clickDamage: 10,
            weaponDamage: 0,
            allyDamage: 0,
            
            // Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª
            clickLevel: 1,
            weaponLevel: 0,
            allyLevel: 0,
            
            // Ø§Ù„ØªØ±Ù‚ÙŠØ§Øª Ø§Ù„Ø®Ø§ØµØ©
            clickMultiplier: 1,
            weaponSpeed: 1,
            allyMultiplier: 1,
            criticalChance: 0,
            jewelBoost: 1,
            bossHunter: false,
            
            // Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
            clickCost: 50,
            weaponCost: 100,
            allyCost: 500,
            
            // ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±
            clickMultiplierCost: 5,
            weaponSpeedCost: 10,
            allyMultiplierCost: 15,
            criticalCost: 20,
            bossHunterCost: 50,
            jewelBoostCost: 25,
            goldFromJewelsCost: 1,
            
            // Ø§Ù„ÙˆØ­Ø´ Ø§Ù„Ø­Ø§Ù„ÙŠ
            monsterHealth: 100,
            monsterMaxHealth: 100,
            monsterLevel: 1
        };

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function initGame() {
            loadGame();
            updateUI();
            startGameLoop();
            
            // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø±
            document.getElementById('clickArea').addEventListener('click', attackMonster);
            document.getElementById('prestigeBtn').addEventListener('click', prestige);
            
            // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©
            setInterval(gameTick, 1000);
        }

        // Ø­Ù„Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function gameTick() {
            // Ø§Ù„Ù‡Ø¬ÙˆÙ… Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            const autoDamage = gameState.weaponDamage + gameState.allyDamage;
            if (autoDamage > 0) {
                damageMonster(autoDamage);
            }
            
            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            updateUI();
            
            // Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙƒÙ„ 10 Ø«ÙˆØ§Ù†ÙŠ
            if (Date.now() % 10000 < 1000) {
                saveGame();
            }
        }

        // Ù…Ù‡Ø§Ø¬Ù…Ø© Ø§Ù„ÙˆØ­Ø´
        function attackMonster() {
            let damage = gameState.clickDamage * gameState.clickMultiplier;
            
            // ÙØ±ØµØ© Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ø­Ø±Ø¬Ø©
            if (gameState.criticalChance > 0 && Math.random() < gameState.criticalChance) {
                damage *= 2;
                showFloatingText("Ø¶Ø±Ø¨Ø© Ø­Ø±Ø¬Ø©! ğŸ’¥", "#ff0000");
            }
            
            damageMonster(damage);
            
            // ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²
            document.getElementById('clickArea').style.transform = 'scale(0.95)';
            setTimeout(() => {
                document.getElementById('clickArea').style.transform = 'scale(1)';
            }, 100);
        }

        // Ø¥Ù„Ø­Ø§Ù‚ Ø§Ù„Ø¶Ø±Ø± Ø¨Ø§Ù„ÙˆØ­Ø´
        function damageMonster(damage) {
            if (gameState.monsterHealth <= 0) return;
            
            gameState.monsterHealth -= damage;
            
            if (gameState.monsterHealth <= 0) {
                defeatMonster();
            }
            
            updateMonsterUI();
        }

        // Ù‡Ø²ÙŠÙ…Ø© Ø§Ù„ÙˆØ­Ø´
        function defeatMonster() {
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª
            let goldReward = Math.floor(10 * Math.pow(1.2, gameState.monsterLevel - 1));
            let jewelReward = gameState.jewelBoost;
            
            // Ù…ÙƒØ§ÙØ£Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù„ØµØ§Ø¦Ø¯Ø© Ø§Ù„Ø²Ø¹Ù…Ø§Ø¡
            if (gameState.bossHunter && gameState.monsterLevel % 10 === 0) {
                goldReward *= 2;
                jewelReward *= 2;
                showAchievement(`Ø²Ø¹ÙŠÙ… Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${gameState.monsterLevel} Ù‡Ø²Ù…!`);
            }
            
            // Ù…Ù†Ø­ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª
            gameState.gold += goldReward;
            gameState.jewels += jewelReward;
            gameState.totalGold += goldReward;
            gameState.totalJewels += jewelReward;
            gameState.kills++;
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø¬ÙˆØ§Ø¦Ø²
            showFloatingText(`+${goldReward} Ø°Ù‡Ø¨`, "#FFD700");
            if (jewelReward > 0) {
                showJewelDrop(jewelReward);
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø¹Ù„Ù‰ ÙˆØ­Ø´
            if (gameState.monsterLevel > gameState.highestMonster) {
                gameState.highestMonster = gameState.monsterLevel;
            }
            
            // ØªÙˆÙ„ÙŠØ¯ ÙˆØ­Ø´ Ø¬Ø¯ÙŠØ¯
            spawnNewMonster();
            
            // ÙØ­Øµ Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
            checkAchievements();
        }

        // ØªÙˆÙ„ÙŠØ¯ ÙˆØ­Ø´ Ø¬Ø¯ÙŠØ¯
        function spawnNewMonster() {
            gameState.monsterLevel = Math.max(1, Math.floor(gameState.kills / 10) + 1);
            gameState.monsterMaxHealth = Math.floor(100 * Math.pow(1.15, gameState.monsterLevel - 1));
            gameState.monsterHealth = gameState.monsterMaxHealth;
            
            // Ø²ÙŠØ§Ø¯Ø© Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù„Ø§Ø¹Ø¨
            gameState.playerLevel = Math.floor(gameState.kills / 25) + 1;
            
            updateMonsterUI();
        }

        // Ø´Ø±Ø§Ø¡ ØªØ±Ù‚ÙŠØ©
        function buyUpgrade(type) {
            switch(type) {
                case 'click':
                    if (gameState.gold >= gameState.clickCost) {
                        gameState.gold -= gameState.clickCost;
                        gameState.clickDamage += 5;
                        gameState.clickLevel++;
                        gameState.clickCost = Math.floor(50 * Math.pow(1.5, gameState.clickLevel));
                        showFloatingText("ØªÙ… ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¶ØºØ·Ø©! âš”ï¸", "#4cc9f0");
                    }
                    break;
                    
                case 'weapon':
                    if (gameState.gold >= gameState.weaponCost) {
                        gameState.gold -= gameState.weaponCost;
                        gameState.weaponDamage += 2 * gameState.weaponSpeed;
                        gameState.weaponLevel++;
                        gameState.weaponCost = Math.floor(100 * Math.pow(1.8, gameState.weaponLevel));
                        showFloatingText("Ø³Ù„Ø§Ø­ Ø¬Ø¯ÙŠØ¯! ğŸ”«", "#4361ee");
                    }
                    break;
                    
                case 'ally':
                    if (gameState.gold >= gameState.allyCost) {
                        gameState.gold -= gameState.allyCost;
                        gameState.allyDamage += 1 * gameState.allyMultiplier;
                        gameState.allyLevel++;
                        gameState.allyCost = Math.floor(500 * Math.pow(1.7, gameState.allyLevel));
                        showFloatingText("Ø­Ù„ÙŠÙ Ø¬Ø¯ÙŠØ¯! ğŸ‘¥", "#7209b7");
                    }
                    break;
                    
                case 'clickMultiplier':
                    if (gameState.jewels >= gameState.clickMultiplierCost) {
                        gameState.jewels -= gameState.clickMultiplierCost;
                        gameState.clickMultiplier *= 2;
                        gameState.clickMultiplierCost = Math.floor(gameState.clickMultiplierCost * 3);
                        showFloatingText("Ù…Ø¶Ø§Ø¹Ù Ø§Ù„Ø¶ØºØ·Ø©! âœ¨", "#f72585");
                    }
                    break;
                    
                case 'weaponSpeed':
                    if (gameState.jewels >= gameState.weaponSpeedCost) {
                        gameState.jewels -= gameState.weaponSpeedCost;
                        gameState.weaponSpeed *= 1.5;
                        gameState.weaponSpeedCost = Math.floor(gameState.weaponSpeedCost * 2.5);
                        gameState.weaponDamage = gameState.weaponLevel * 2 * gameState.weaponSpeed;
                        showFloatingText("Ø³Ø±Ø¹Ø© Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø²Ø§Ø¯Øª! âš¡", "#4cc9f0");
                    }
                    break;
                    
                case 'allyMultiplier':
                    if (gameState.jewels >= gameState.allyMultiplierCost) {
                        gameState.jewels -= gameState.allyMultiplierCost;
                        gameState.allyMultiplier *= 2;
                        gameState.allyMultiplierCost = Math.floor(gameState.allyMultiplierCost * 2.8);
                        gameState.allyDamage = gameState.allyLevel * 1 * gameState.allyMultiplier;
                        showFloatingText("Ø§Ù„Ø­Ù„ÙØ§Ø¡ Ø£Ù‚ÙˆÙ‰! ğŸ’ª", "#7209b7");
                    }
                    break;
                    
                case 'critical':
                    if (gameState.jewels >= gameState.criticalCost && gameState.criticalChance === 0) {
                        gameState.jewels -= gameState.criticalCost;
                        gameState.criticalChance = 0.1;
                        showFloatingText("ØªÙ… ØªØ¹Ù„Ù… Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ø­Ø±Ø¬Ø©! ğŸ’¥", "#ff0000");
                    }
                    break;
                    
                case 'bossHunter':
                    if (gameState.jewels >= gameState.bossHunterCost && !gameState.bossHunter) {
                        gameState.jewels -= gameState.bossHunterCost;
                        gameState.bossHunter = true;
                        showAchievement("Ø£ØµØ¨Ø­Øª ØµØ§Ø¦Ø¯Ø© Ø²Ø¹Ù…Ø§Ø¡! ğŸ‘‘");
                    }
                    break;
                    
                case 'jewelBoost':
                    if (gameState.jewels >= gameState.jewelBoostCost) {
                        gameState.jewels -= gameState.jewelBoostCost;
                        gameState.jewelBoost++;
                        gameState.jewelBoostCost = Math.floor(gameState.jewelBoostCost * 2.2);
                        showFloatingText("Ù‚Ø·Ø± Ø§Ù„Ø¬ÙˆØ§Ù‡Ø± Ø²Ø§Ø¯! ğŸ’", "#FFD700");
                    }
                    break;
                    
                case 'goldFromJewels':
                    if (gameState.jewels >= gameState.goldFromJewelsCost) {
                        const jewelsToConvert = Math.min(10, gameState.jewels);
                        const goldGained = jewelsToConvert * 10;
                        gameState.jewels -= jewelsToConvert;
                        gameState.gold += goldGained;
                        gameState.totalGold += goldGained;
                        showFloatingText(`Ø­ÙˆÙ„Øª ${jewelsToConvert} Ø¬ÙˆÙ‡Ø±Ø© Ù„Ù€ ${goldGained} Ø°Ù‡Ø¨! ğŸ’°`, "#FFD700");
                    }
                    break;
            }
            
            updateUI();
        }

        // Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø·ÙˆÙ„ÙŠ
        function prestige() {
            if (gameState.playerLevel >= 50) {
                const prestigeBonus = Math.floor(gameState.playerLevel / 10);
                
                // Ø­ÙØ¸ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ø¨Ø·ÙˆÙ„ÙŠØ©
                const prestigeData = {
                    prestigeLevel: (localStorage.getItem('prestigeLevel') || 0) * 1 + 1,
                    totalPrestigeBonus: (localStorage.getItem('totalPrestigeBonus') || 0) * 1 + prestigeBonus
                };
                
                localStorage.setItem('prestigeLevel', prestigeData.prestigeLevel);
                localStorage.setItem('totalPrestigeBonus', prestigeData.totalPrestigeBonus);
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²
                showAchievement(`Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© ${prestigeData.prestigeLevel}! +${prestigeBonus}% Ø¶Ø±Ø± Ø¯Ø§Ø¦Ù…`);
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¹ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª
                resetGameWithBonus(prestigeBonus);
            }
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª
        function resetGameWithBonus(bonus) {
            // Ø­ÙØ¸ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù…Ø©
            const oldTotalGold = gameState.totalGold;
            const oldTotalJewels = gameState.totalJewels;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
            Object.keys(gameState).forEach(key => {
                if (typeof gameState[key] === 'number') {
                    gameState[key] = 0;
                } else if (typeof gameState[key] === 'boolean') {
                    gameState[key] = false;
                }
            });
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø¨Ø¹Ø¶ Ø§Ù„Ù‚ÙŠÙ…
            gameState.clickDamage = 10 * (1 + bonus/100);
            gameState.clickCost = 50;
            gameState.weaponCost = 100;
            gameState.allyCost = 500;
            gameState.totalGold = oldTotalGold;
            gameState.totalJewels = oldTotalJewels;
            
            // ØªÙˆÙ„ÙŠØ¯ ÙˆØ­Ø´ Ø¬Ø¯ÙŠØ¯
            spawnNewMonster();
            
            updateUI();
            saveGame();
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function updateUI() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            document.getElementById('gold').textContent = formatNumber(gameState.gold);
            document.getElementById('jewels').textContent = gameState.jewels;
            document.getElementById('kills').textContent = gameState.kills;
            document.getElementById('playerLevel').textContent = gameState.playerLevel;
            document.getElementById('totalGold').textContent = formatNumber(gameState.totalGold);
            document.getElementById('totalJewels').textContent = gameState.totalJewels;
            document.getElementById('highestMonster').textContent = gameState.highestMonster;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¶Ø±Ø±
            const totalClickDamage = gameState.clickDamage * gameState.clickMultiplier;
            const totalWeaponDamage = gameState.weaponDamage;
            const totalAllyDamage = gameState.allyDamage;
            const totalDPS = totalWeaponDamage + totalAllyDamage;
            
            document.getElementById('clickDamage').textContent = totalClickDamage;
            document.getElementById('totalClickDamage').textContent = formatNumber(totalClickDamage);
            document.getElementById('totalWeaponDamage').textContent = formatNumber(totalWeaponDamage);
            document.getElementById('totalAllyDamage').textContent = formatNumber(totalAllyDamage);
            document.getElementById('totalDPS').textContent = formatNumber(totalDPS);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ
            document.getElementById('clickCost').textContent = formatNumber(gameState.clickCost);
            document.getElementById('weaponCost').textContent = formatNumber(gameState.weaponCost);
            document.getElementById('allyCost').textContent = formatNumber(gameState.allyCost);
            document.getElementById('clickMultiplierCost').textContent = gameState.clickMultiplierCost;
            document.getElementById('weaponSpeedCost').textContent = gameState.weaponSpeedCost;
            document.getElementById('allyMultiplierCost').textContent = gameState.allyMultiplierCost;
            document.getElementById('criticalCost').textContent = gameState.criticalCost;
            document.getElementById('bossHunterCost').textContent = gameState.bossHunterCost;
            document.getElementById('jewelBoostCost').textContent = gameState.jewelBoostCost;
            document.getElementById('goldFromJewelsCost').textContent = gameState.goldFromJewelsCost;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
            document.getElementById('damageMultiplier').textContent = gameState.clickMultiplier;
            document.getElementById('jewelRate').textContent = gameState.jewelBoost;
            
            // ØªØ­Ø¯ÙŠØ« ØªÙ‚Ø¯Ù… Ø§Ù„Ø¨Ø·ÙˆÙ„Ø©
            const prestigeProgress = Math.min(100, (gameState.playerLevel / 50) * 100);
            document.getElementById('prestigeProgress').style.width = `${prestigeProgress}%`;
            document.getElementById('currentLevel').textContent = gameState.playerLevel;
            
            const prestigeBtn = document.getElementById('prestigeBtn');
            if (gameState.playerLevel >= 50) {
                prestigeBtn.disabled = false;
                prestigeBtn.textContent = `Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© (+${Math.floor(gameState.playerLevel/10)}% Ø¶Ø±Ø± Ø¯Ø§Ø¦Ù…)`;
            } else {
                prestigeBtn.disabled = true;
                prestigeBtn.textContent = `Ø§Ù„Ø¨Ø·ÙˆÙ„Ø© ØºÙŠØ± Ù…ØªØ§Ø­Ø© Ø¨Ø¹Ø¯ (${gameState.playerLevel}/50)`;
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±
            updateShopButtons();
        }

        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„ÙˆØ­Ø´
        function updateMonsterUI() {
            const healthPercent = (gameState.monsterHealth / gameState.monsterMaxHealth) * 100;
            
            document.getElementById('healthFill').style.width = `${healthPercent}%`;
            document.getElementById('monsterHealth').textContent = 
                `${formatNumber(gameState.monsterHealth)} / ${formatNumber(gameState.monsterMaxHealth)}`;
            document.getElementById('monsterName').textContent = 
                `ÙˆØ­Ø´ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${gameState.monsterLevel}`;
            
            const goldReward = Math.floor(10 * Math.pow(1.2, gameState.monsterLevel - 1));
            document.getElementById('monsterReward').textContent = 
                `${formatNumber(goldReward)} Ø°Ù‡Ø¨ + ${gameState.jewelBoost} Ø¬ÙˆÙ‡Ø±Ø©`;
        }

        // ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…ØªØ¬Ø±
        function updateShopButtons() {
            const buttons = document.querySelectorAll('.upgrade-btn');
            buttons.forEach(btn => {
                const costElement = btn.querySelector('.cost');
                if (costElement) {
                    const costText = costElement.textContent;
                    if (costText.includes('ğŸ’')) {
                        const cost = parseInt(costText.match(/\d+/)[0]);
                        btn.disabled = gameState.jewels < cost;
                    } else if (costText.includes('Ø°Ù‡Ø¨')) {
                        const cost = parseInt(costText.match(/\d+/)[0]);
                        btn.disabled = gameState.gold < cost;
                    }
                }
            });
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø·Ø§ÙÙŠØ©
        function showFloatingText(text, color) {
            const floatingText = document.createElement('div');
            floatingText.textContent = text;
            floatingText.style.position = 'absolute';
            floatingText.style.color = color;
            floatingText.style.fontSize = '24px';
            floatingText.style.fontWeight = 'bold';
            floatingText.style.textShadow = '0 0 5px rgba(255,255,255,0.5)';
            floatingText.style.pointerEvents = 'none';
            floatingText.style.zIndex = '100';
            floatingText.style.left = '50%';
            floatingText.style.top = '50%';
            floatingText.style.transform = 'translate(-50%, -50%)';
            
            document.getElementById('monsterContainer').appendChild(floatingText);
            
            let opacity = 1;
            let y = 0;
            const animation = setInterval(() => {
                y -= 2;
                opacity -= 0.05;
                floatingText.style.transform = `translate(-50%, ${y}px)`;
                floatingText.style.opacity = opacity;
                
                if (opacity <= 0) {
                    clearInterval(animation);
                    floatingText.remove();
                }
            }, 50);
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø± Ø§Ù„Ø³Ø§Ù‚Ø·Ø©
        function showJewelDrop(count) {
            const jewel = document.createElement('div');
            jewel.className = 'monster-jewel-drop';
            jewel.textContent = `+${count} ğŸ’`;
            jewel.style.color = 'gold';
            jewel.style.left = `${Math.random() * 70 + 15}%`;
            jewel.style.top = `${Math.random() * 50 + 25}%`;
            
            document.getElementById('monsterContainer').appendChild(jewel);
            
            setTimeout(() => {
                jewel.remove();
            }, 1500);
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
        function showAchievement(text) {
            const achievement = document.createElement('div');
            achievement.className = 'achievement-popup';
            achievement.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 5px;">ğŸ‰ Ø¥Ù†Ø¬Ø§Ø² Ø¬Ø¯ÙŠØ¯!</div>
                <div>${text}</div>
            `;
            
            document.body.appendChild(achievement);
            
            setTimeout(() => {
                achievement.style.transition = 'transform 0.5s ease-out, opacity 0.5s';
                achievement.style.transform = 'translateX(100%)';
                achievement.style.opacity = '0';
                
                setTimeout(() => {
                    achievement.remove();
                }, 500);
            }, 3000);
        }

        // ÙØ­Øµ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
        function checkAchievements() {
            const achievements = [
                { condition: gameState.kills >= 10, text: "10 ÙˆØ­ÙˆØ´ Ù‡Ø²Ù…Øª! ğŸ¹" },
                { condition: gameState.kills >= 50, text: "50 ÙˆØ­Ø´Ø§Ù‹ Ù‡Ø²Ù…Øª! âš”ï¸" },
                { condition: gameState.kills >= 100, text: "100 ÙˆØ­Ø´ Ù‡Ø²Ù…Øª! ğŸ‘‘" },
                { condition: gameState.gold >= 1000, text: "Ø£Ù„ÙÙŠØ© Ø§Ù„Ø°Ù‡Ø¨! ğŸ’°" },
                { condition: gameState.jewels >= 50, text: "Ø¬Ø§Ù…Ø¹ Ø§Ù„Ø¬ÙˆØ§Ù‡Ø±! ğŸ’" },
                { condition: gameState.playerLevel >= 10, text: "Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 10! ğŸŒŸ" },
                { condition: gameState.playerLevel >= 25, text: "Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 25! ğŸ†" }
            ];
            
            achievements.forEach(achievement => {
                if (achievement.condition) {
                    const key = `achievement_${achievement.text}`;
                    if (!localStorage.getItem(key)) {
                        localStorage.setItem(key, 'true');
                        showAchievement(achievement.text);
                    }
                }
            });
        }

        // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
        function formatNumber(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return Math.floor(num).toString();
        }

        // Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function saveGame() {
            localStorage.setItem('monsterSlayerGame', JSON.stringify(gameState));
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function loadGame() {
            const saved = localStorage.getItem('monsterSlayerGame');
            if (saved) {
                const savedState = JSON.parse(saved);
                Object.assign(gameState, savedState);
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function startGameLoop() {
            updateMonsterUI();
            
            // Ø¨Ø¯Ø¡ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰/Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª
            const clickSound = new Audio("data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAZGF0YQQAAAAAAA==");
            
            document.getElementById('clickArea').addEventListener('click', () => {
                clickSound.currentTime = 0;
                // clickSound.play(); // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª
            });
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', initGame);
    </script>
</body>
</html>